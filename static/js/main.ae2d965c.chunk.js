(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{61:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(20),i=a.n(c),r=(a(61),a(6)),s=a(24),o=a(28),l=a.n(o),d=a(34),m=a(23),u=a(19),p=a(46),j=a.n(p).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),b=function(e){return j.get("weather?q=".concat(e,"&appid=").concat("968cb1decfce0d451e6ef8dfe6e0713c","&units=metric")).then((function(e){return e.data}))},h=" SET-WEATHER-DATA",O="SET-CITY-NAME",x="SET-CITY-DATA",f="UPDATE-CITY_DATA",y="DELETE_CITY",g={id:null,citySelected:"",cityNameList:["kyiv"],cityGroup:[{id:703448,lat:50.4333,lon:30.5167,name:"Kyiv",temp:19.55,feels_like:19,humidity:60,temp_max:20,temp_min:15}]},_=function(e,t){for(var a=0;a<t.length;a++)if(console.log(t[a].toLowerCase(),e.toLowerCase()),t[a].toLowerCase()===e.toLowerCase())return!0;return!1},C=function(e){return{type:O,data:e}},N=function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a,n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b(e);case 3:c=t.sent,a((n={id:c.id,lon:c.coord.lon,lat:c.coord.lat,name:c.name,temp:c.main.temp,feels_like:c.main.feels_like,humidity:c.main.humidity,temp_max:c.main.temp_max,temp_min:c.main.temp_min},{type:x,newItem:n})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Oops");case 10:case"end":return t.stop()}var n}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(u.a)(Object(u.a)({},e),{},{id:t.data});case O:return Object(u.a)(Object(u.a)({},e),{},{citySelected:t.data});case x:return _(e.citySelected,e.cityNameList)?e:Object(u.a)(Object(u.a)({},e),{},{cityNameList:[].concat(Object(m.a)(e.cityNameList),[t.newItem.name.toLocaleLowerCase()]),cityGroup:[].concat(Object(m.a)(e.cityGroup),[t.newItem])});case f:var a=e.cityNameList.indexOf(t.newItem.name.toLowerCase());return Object.assign({},e,{cityGroup:e.cityGroup.slice(0,a).concat([t.newItem]).concat(e.cityGroup.slice(a+1))});case y:var n=e.cityNameList.indexOf(t.name.toLowerCase());return console.log(e.cityNameList.indexOf(t.name)),Object(u.a)(Object(u.a)({},e),{},{cityGroup:[].concat(Object(m.a)(e.cityGroup.slice(0,n)),Object(m.a)(e.cityGroup.slice(n+1))),cityNameList:[].concat(Object(m.a)(e.cityNameList.slice(0,n)),Object(m.a)(e.cityNameList.slice(n+1)))});default:return e}},w=a(118),k=a(110),T=a(116),L=a(112),G=a(113),S=a(2),E=Object(k.a)({root:{minWidth:275,padding:"20px",margin:"50px",backgroundColor:"#868282",color:"white"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},buttonUpdate:{backgroundColor:"orange"},buttonDelete:{backgroundColor:"red"},card:{height:"100%",display:"flex",flexDirection:"column"},cardContent:{flexGrow:1}}),I=function(e){var t=e.name,a=e.temp,c=e.update,i=e.deleted,s=E();Object(n.useEffect)((function(){}));var o=Object(r.f)();return Object(S.jsx)(w.a,{className:s.card,onClick:function(e){o.push("/city/".concat(t))},children:Object(S.jsxs)(L.a,{className:s.cardContent,children:[Object(S.jsxs)(G.a,{gutterBottom:!0,variant:"h5",component:"h2",children:["City name: ",Object(S.jsxs)("span",{className:"cardData",children:[" ",t]})]}),Object(S.jsxs)(G.a,{children:["Temperature value: ",Object(S.jsxs)("span",{className:"cardData",children:[" ",a]})]}),Object(S.jsxs)("div",{className:"button__wrapper",children:[Object(S.jsx)(T.a,{className:s.buttonUpdate,onClick:function(e){e.stopPropagation(),c(t)},size:"small",children:"Update"}),Object(S.jsx)(T.a,{className:s.buttonDelete,onClick:function(e){e.stopPropagation(),i(t)},size:"small",children:"Delete"})]})]})})},A=a(117),D=a(114),R=a(115),W={getWeatherThunkCreator:N,updateWeatherThunkCreator:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a,n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b(e);case 3:c=t.sent,a((n={id:c.id,lon:c.coord.lon,lat:c.coord.lat,name:c.name,temp:c.main.temp,feels_like:c.main.feels_like,humidity:c.main.humidity,temp_max:c.main.temp_max,temp_min:c.main.temp_min},{type:f,newItem:n})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Oops");case 10:case"end":return t.stop()}var n}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()},setCityNameAC:C,deleteCityAC:function(e){return{type:y,name:e}}},B=Object(k.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},inputGrid:{paddingTop:e.spacing(0),paddingBottom:e.spacing(8)},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},buttonSetCIty:{backgroundColor:"green",color:"white",marginLeft:"10px"},input:{backgroundColor:"white",marginRight:"20px",border:"1px solid #7d7b7b",borderRadius:"3px"}}})),F=Object(s.b)((function(e){return{id:e.weatherReducer.id,name:e.weatherReducer.citySelected,cityGroup:e.weatherReducer.cityGroup}}),W)((function(e){var t=e.name,a=e.cityGroup,n=e.getWeatherThunkCreator,c=e.updateWeatherThunkCreator,i=e.setCityNameAC,r=e.deleteCityAC,s=B();return Object(S.jsxs)("main",{children:[Object(S.jsx)(D.a,{className:s.cardGrid,maxWidth:"md",children:Object(S.jsx)(R.a,{container:!0,spacing:4,children:a?a.map((function(e,a){return Object(S.jsx)(R.a,{item:!0,xs:12,sm:6,md:4,children:Object(S.jsx)(I,{name:e.name,temp:e.temp,update:c,deleted:r},t+a)},t+a)})):Object(S.jsx)(S.Fragment,{})})}),Object(S.jsx)(D.a,{className:s.inputGrid,maxWidth:"md",children:Object(S.jsxs)("div",{children:[Object(S.jsx)(A.a,{style:{backgroundColor:"white",borderRight:"3px",color:"black"},value:t,onChange:function(e){return i(e.target.value)},placeholder:"set city name"}),Object(S.jsx)(T.a,{className:s.buttonSetCIty,onClick:function(){n(t)},size:"small",children:"Add"})]})})]})})),P=a(22),U={getWeatherThunkCreator:N,setCityNameAC:C},z=Object(P.c)(Object(s.b)((function(e){return{cityGroup:e.weatherReducer.cityGroup}}),U),r.g)((function(e){var t=e.match.params.CityName,a={id:0,lat:0,lon:0,name:"",temp:0,feels_like:0,humidity:0,temp_max:0,temp_min:0};return e.cityGroup.map((function(e){e.name===t&&(a=e)})),Object(n.useEffect)((function(){console.log(e)})),Object(S.jsxs)("div",{className:"details__wrapper",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"details__name",children:" City Name"}),Object(S.jsx)("span",{className:"details__data",children:t})," "]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"details__name",children:" Current temperature"}),Object(S.jsx)("span",{className:"details__data",children:a.temp})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"details__name",children:"Feels like temperature"}),Object(S.jsx)("span",{className:"details__data",children:a.feels_like})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"details__name",children:"humidity"}),Object(S.jsx)("span",{className:"details__data",children:a.humidity})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"details__name",children:" temp_max"}),Object(S.jsx)("span",{className:"details__data",children:a.temp_max})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"details__name",children:" temp_min"}),Object(S.jsx)("span",{className:"details__data",children:a.temp_min})]})]})})),J=function(){return Object(S.jsx)("div",{children:Object(S.jsxs)(r.c,{children:[Object(S.jsx)(r.a,{exact:!0,path:"/",children:Object(S.jsx)(F,{})}),Object(S.jsx)(r.a,{path:"/City/:CityName?",children:Object(S.jsx)(z,{})})]})})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,120)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))},M=a(30),X=a(51),q=Object(P.b)({weatherReducer:v}),H=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||P.c,V=Object(P.d)(q,H,K(Object(P.a)(X.a)));V.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){}}(V.getState())})),window.store=V;var Q=V;i.a.render(Object(S.jsx)(M.a,{children:Object(S.jsx)(s.a,{store:Q,children:Object(S.jsx)(J,{})})}),document.getElementById("root")),Y()}},[[87,1,2]]]);
//# sourceMappingURL=main.ae2d965c.chunk.js.map